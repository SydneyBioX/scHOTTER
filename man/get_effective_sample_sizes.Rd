% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/effective_sample_size.R
\name{get_effective_sample_sizes}
\alias{get_effective_sample_sizes}
\title{Effective sample size per kernel (Kish, 1965)}
\usage{
get_effective_sample_sizes(weight_mat_trimmed, tol = 1e-12)
}
\arguments{
\item{weight_mat_trimmed}{A pointÃ—kernel weight matrix (preferably
\code{Matrix::dgCMatrix}); can be the output of
\code{\link{trim_weight_matrix}}.}

\item{tol}{Numeric tolerance. Columns with \eqn{\sum w^2 \leq } \code{tol}
are treated as empty and return \code{0}.}
}
\value{
A named numeric vector of length \eqn{k} (kernels), giving
\eqn{n_{\mathrm{eff}}} for each kernel (0 for empty kernels).
}
\description{
Computes Kish's effective sample size for each kernel/column of a weight
matrix: \deqn{n_{\mathrm{eff},k} = \frac{(\sum_\ell w_{ k \ell})^2}
{\sum_\ell w_{k \ell }^2}.}
}
\details{
For block weights (0/1), \eqn{n_{\mathrm{eff},k}} equals the number of
positively weighted points in kernel \eqn{k}. For general nonnegative weights,
\eqn{n_{\mathrm{eff},k} \leq \sum_\ell 1\{w_{k \ell}>0\}}.
}
\examples{
set.seed(1)
coords  <- cbind(runif(40), runif(40))
centres <- generate_kernel_centres_by_density(coords, span = 0.2)
Wg <- generate_weight_matrix_euclidean(coords, centres, span = 0.2, type = "gaussian")
neff <- get_effective_sample_sizes(Wg)
head(neff)

}
\references{
Kish, L. (1965). \emph{Survey Sampling}. Wiley.
}
